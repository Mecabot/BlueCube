<!DOCTYPE HTML>
<html lang="en">
<head>
	<!-- Basic Page Needs
	================================================== -->
	<title>BlueCube - Usage</title>
	<meta charset="utf-8" />

	<!-- Mobile Specific Metas
	================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<!-- CSS
	================================================== -->
	<link rel="stylesheet" href="assets/css/main.css" />
</head>

<body>
	<!-- Content -->
	<div id="content">
		<div class="inner">

			<section class="box post">
				<header>
					<h1>Usage</h1>
					<hr class="blue">
				</header>
				<a name="general"></a>
			</section>

			<section class="box post">
				<header>
					<h2>General Usage</h2>
				</header>
				<p>To control the cube, launch the BlueCube app on your mobile device (ensuring that the cube is running the BlueCube sketch). The connect screen will be shown - tap "Connect" and the app will search for cubes to connect to. If only one is found it automatically connects, otherwise it will present a list from which you can chose which to connect to.</p>
	
				<p>You can see the menu with all of the available options by sliding the app to the right, or by tapping the three horizontal lines <i class="fa fa-bars"></i> in the top left corner. The options are:-</p>

				<table class="default">
					<tr>
						<th width="15%">Menu Item</th>
						<th>Description</th>
					</tr>
					<tr>
						<th>All</th>
						<td>Sets all LEDs on the cube to the selected colour. If "Automatical Change" is selected the cube updates as you change the colour, otherwise tap "Change Cube Colour" to update the cube. You can also choose one of the preset colour favourites, and mange these favourites.</td>
					</tr>
					<tr>
						<th>Shift</th>
						<td>Move the current light display one position to the left, right, up, down, forward, or back.</td>
					</tr>
					<tr>
						<th>Set</th>
						<td>Tap any of the circles (iOS) or squares (Android) that represent the LEDs on the cube to set it to the colour that has been chosen at the top of this page. Tap again to turn the LED off.</p>

					<tr>
						<th>Next</th>
						<td>Set the "next" LED to the chosen colour.</td>
					</tr>
					<tr>
						<th>Set Plane</th>
						<td>Set a plane of the cube to the chosen colour. You pick the axis, then the offset. For example X 0 is all LEDs on the left side of the cube, Y 3 would be all LEDs on the back side of the cube, and Z 0 is all of the LEDs on the bottom of the cube.</td>
					</tr>
					<tr>
						<th>Copy Plane</th>
						<td>Copy the current light display of a plane to a different plane on the same axis.</td>
					</tr>
					<tr>
						<th>Move Plane</th>
						<td>Move the selected planes light display to a different plane, and then set the original planes colour to the chosen colour.</td>
					</tr>
					<tr>
						<th>Line</th>
						<td>Draw a line between two LEDs in the given colour. Tap two LEDs on the grid and then tap "Draw Line".</td>
					</tr>
					<tr>
						<th>Box</th>
						<td>Draw a box with different style options. Tap the bottom left LED, and the top right LED, then pick if you want a solid colour, only the walls filled in (leaving the centre off), only the edges filled in (leaving the center of the box and walls empty), or whether the walls or edges should be filled with a second colour.</td>
					</tr>
					<tr>
						<th>Sphere</th>
						<td>Draw a sphere with different style options. Tap the LED that represents the middle of the sphere, then chose it's size and whether the outside only is light up, or whether the middle of cube is also illuminated in a second colour (solid).</td>
					</tr>
					<tr>
						<th>Connect</th>
						<td>Allows you to connect or disconnect from the cube</td>
					</tr>
					<tr>
						<th>User Defined Patterns</th>
						<td>Call any user defined patterns in the sketch from the app, and if needed provide a colour to be used.</td>
					</tr>
					<tr>
						<th>Static Favourites</th>
						<td>With static favourites, you can save a series of commands for the cube, and then replay them with the tap of a button on demand.</td>
					</tr>
					<tr>
						<th>History</th>
						<td>View the commands that have been sent to the cube, and replay any selected commands if you wish.</td>
					</tr>
					<tr>
						<th>Settings</th>
						<td>Allows you to control how many items are saved in the history, and to reset the app back to it's default state.</td>
					</tr>
					<tr>
						<th>About</th>
						<td>Gives information about the app, how to wire the cube and bluetooth module together, and the location of all of the LEDs.</td>
					</td>
				</table>
				<a name="patterns"></a>
			</section>

			<hr class="blue">

			<section class="box post">
				<header>
					<h2>Adding User Defined Patterns</h2>
				</header>
				<p>To add a user defined pattern you need to do two things. The first is that you need to add the code for the pattern to the sketch, and then upload it to the cube. The second is to tell the app about the pattern.</p>
				<p>These steps are demonstrated in the following video, and outlined step by step below.</p>
				<iframe width="560" height="315" src="https://www.youtube.com/embed/EyojBGr-Sm4" frameborder="0" allowfullscreen></iframe>
				
				<h3>Adding pattern to sketch</h3>
				<p>I recommend that you create the pattern in a class, and then include that class. If you are unsure about this, I recommend you copy the ZigZag.h and ZigZag.cpp files and modify them as appropriate.</p>
				<p>Assuming you have a new class (I'm going to use the "Sweep" example from <a href="https://github.com/neographophobic/Cube4-Sketches/tree/master/Sweep/Sweep_NoDelay">here</a>), you would add it as follows:-</p>
				<ol class="default">
					<li>Copy the Sweep.h and Sweep.cpp files into the same directory as BlueCube.ino</li>
					<li>Open BlueCube.ino in the Arduino IDE</li>
					<li>Sweep requires a delay, so add <code>#define SWEEP_DELAY 100</code> under the <code>#define ZIGZAG_DELAY</code> line</li>
					<li>Include the Sweep.h file, by adding <code>#include "Sweep.h"</code> under the <code>#include "ZigZag.h"</code> line</li> 
					<li>We also need to instantiate the class, so add <code>Sweep sweep(cube, SWEEP_DELAY);</code> under the line that says <code>ZigZag zigzag(cube, ZIGZAG_DELAY);</code></li>
					<li>Now at the bottom of the code, in the <code>userFunctionHandler</code> function, we add a new item to the <code>switch</code> statement, using the next available number. The code to add is as follows:-<br>
					<code>
					    case 4:<br>
					    &nbsp;&nbsp;serial->println("Sweep");<br>
					    &nbsp;&nbsp;break;
					</code>
					<br>This is added directly after the last <code>break;</code>.
					</li>
					<li>Finally we add it into the <code>loop</code> function as well. To do this we extend the <code>switch</code> statement, using the number we used in the last step. The code to add is as follows:-<br>	
					<code>
					    case 4:<br>
					    &nbsp;&nbsp;sweep.update(theColour);<br>
					    &nbsp;&nbsp;break;
					</code>
					</li>
					<li>You can now compile and upload the sketch to the cube</li>
				</ol>
				<h3>Adding pattern to app</h3>
				<p>Once you have added the user defined pattern to the sketch, you can add it to the app. To do this:-</p>
				<ol class="default">
					<li>Launch the app on your mobile device, and connect to the cube</li>
					<li>Select "User Defined Patterns" from the side menu</li>
					<li>Tap the green "+"</li>
					<li>Tap "Name" and enter a descriptive name. E.g. <code>Blue Sweep</code></li>
					<li>Tap "Number" and enter the number that was used in the sketch I.e. <code>4</code></li>
					<li>The sweep pattern requires a colour, so tap the toggle next to "Colour Required"</li>
					<li>Tap the colour, and select a suitable blue colour, then click "Done" at the top right</li>
					<li>Tap "Save User Defined Pattern"</li>
					<li>Tap "Blue Sweep" and a blue sweep pattern should display on the cube</li>
				</ol>				
			</section>
		</div> <!-- .inner -->
	</div> <!-- .content -->

	<!-- Sidebar -->
	<div id="sidebar">
		<!-- Logo -->
		<h1 id="logo">
			<img src="images/BlueCube.png">
			<a href="#">BlueCube</a>
		</h1>

		<!-- Nav -->
		<nav id="nav">
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="wiring.html">Wiring</a></li>
				<li><a href="download.html">Download</a></li>
				<li><a href="install.html">Install</a></li>
				<li class="current">
					<a href="usage.html">Usage</a>
					<ul>
						<li><a href="#general">General</a></li>
						<li><a href="#patterns">Adding Patterns</a></li>
					</ul>
				</li>
				<li><a href="troubleshooting.html">Troubleshooting, FAQs &amp; Support</a></li>
				<li><a href="development.html">Development Environment</a></li>
				<li><a href="acknowledgements.html">Acknowledgements</a></li>
			</ul>
		</nav>
	</div>

	<!-- Javascript
	================================================== -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/skel.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-73099470-1', 'auto');
		ga('send', 'pageview');
	</script>
</body>
</html>
